<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Narmada River Route - Interactive Guide</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --bg-light: #f8fafc;
            --text-light: #1e293b;
            --card-light: #ffffff;
            --border-light: #e2e8f0;
            --bg-dark: #0f172a;
            --text-dark: #e2e8f0;
            --card-dark: #1e293b;
            --border-dark: #334155;
        }

        [data-theme="dark"] {
            --bg: var(--bg-dark);
            --text: var(--text-dark);
            --card: var(--card-dark);
            --border: var(--border-dark);
        }

        [data-theme="light"] {
            --bg: var(--bg-light);
            --text: var(--text-light);
            --card: var(--card-light);
            --border: var(--border-light);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 20px;
            z-index: 100;
            transition: background-color 0.3s;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .title {
            font-size: 24px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .controls {
            display: flex;
            gap: 12px;
        }

        .theme-toggle, .control-button {
            background: none;
            border: 2px solid var(--border);
            color: var(--text);
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .search-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            padding-left: 40px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--card);
            color: var(--text);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text);
            opacity: 0.5;
        }

        .filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--card);
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-btn:hover, .theme-toggle:hover, .control-button:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .location-card {
            background: var(--card);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid var(--border);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .location-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .location-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .location-title-section {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .location-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }

        .location-info h3 {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .location-type {
            font-size: 14px;
            opacity: 0.7;
        }

        .location-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .facilities-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .facility-tag {
            background: var(--primary);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .route-visualization {
            background: var(--card);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid var(--border);
            overflow-x: auto;
        }

        .route-map {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            min-width: max-content;
            padding: 20px 0;
            position: relative;
        }

        .route-point {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            margin: 0 40px;
        }

        .route-point:not(:last-child)::after {
            content: '';
            position: absolute;
            right: -40px;
            top: 25px;
            width: 40px;
            height: 2px;
            background: var(--primary);
        }

        .point-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            z-index: 1;
        }

        .point-label {
            font-size: 12px;
            text-align: center;
            max-width: 100px;
        }

        .expanded-content {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .expanded-content.active {
            display: block;
        }

        .expand-button {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 14px;
            padding: 5px 10px;
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: color 0.3s ease;
        }

        .expand-button:hover {
            color: var(--primary-light);
        }

        .no-results {
            text-align: center;
            padding: 20px;
            background: var(--card);
            border-radius: 12px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .header {
                position: static;
            }

            .header-top {
                flex-direction: column;
                gap: 16px;
            }

            .location-header {
                flex-direction: column;
                gap: 10px;
            }
        }

        .location-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 15px 0;
        }

        .attractions-list {
            list-style: none;
            margin: 10px 0;
            padding-left: 20px;
        }

        .attractions-list li {
            margin-bottom: 5px;
            position: relative;
        }

        .attractions-list li::before {
            content: "â€¢";
            color: var(--primary);
            position: absolute;
            left: -15px;
        }

        .navigation-links {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            cursor: pointer;
            background: none;
            border: none;
            font-size: 14px;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--primary-light);
        }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <header class="header">
            <div class="header-top">
                <h1 class="title">
                    <i class="fas fa-map-marked-alt"></i>
                    Narmada River Route
                </h1>
                <div class="controls">
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="control-button" id="helpButton" aria-label="Help">
                        <i class="fas fa-question-circle"></i>
                    </button>
                    <button class="control-button" id="locationButton" aria-label="Get location">
                        <i class="fas fa-location-arrow"></i>
                    </button>
                </div>
            </div>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="searchInput" placeholder="Search locations, types, or facilities..." aria-label="Search">
            </div>

            <div class="filters" role="toolbar" aria-label="Location filters">
                <button class="filter-btn active" data-filter="all">
                    <i class="fas fa-globe"></i>
                    All Locations
                </button>
                <button class="filter-btn" data-filter="temple">
                    <i class="fas fa-temple"></i>
                    Temples
                </button>
                <button class="filter-btn" data-filter="ann-kshetra">
                    <i class="fas fa-utensils"></i>
                    Ann Kshetra
                </button>
                <button class="filter-btn" data-filter="ashram">
                    <i class="fas fa-om"></i>
                    Ashrams
                </button>
                <button class="filter-btn" data-filter="ghat">
                    <i class="fas fa-water"></i>
                    Ghats
                </button>
                <button class="filter-btn" data-filter="village">
                    <i class="fas fa-house"></i>
                    Villages
                </button>
            </div>
        </header>

        <div class="route-visualization" id="routeVisualization">
            <h2 style="margin-bottom: 20px;">Route Overview</h2>
            <div class="route-map" id="routeMap"></div>
        </div>

        <main id="locationsList" role="main" aria-live="polite"></main>
    </div>

    <script>
     const locations = [
    {
        id: 1,
        name: "Omkareshwar Temple",
        type: "temple",
        icon: "temple",
        distance: 0,
        coordinates: { lat: 22.2449, lng: 76.1492 },
        facilities: ["Parking", "Accommodation", "Prasad"],
        description: "One of the 12 Jyotirlinga temples, a sacred pilgrimage site situated on an island in the Narmada River.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 2,
        prevLocation: null,
        nearbyAttractions: ["Mamaleshwar Temple", "Narmada Ghat", "Sidhnath Temple"],
        contactInfo: "+91 XXXXXXXXXX"
    },
    {
        id: 2,
        name: "Shivkothi",
        type: "village",
        icon: "house",
        distance: 6,
        coordinates: { lat: 22.2539, lng: 76.1592 },
        facilities: ["Local Guides", "Basic Amenities", "Traditional Homestays"],
        description: "Historic village with rich religious significance and traditional architecture.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 3,
        prevLocation: 1,
        nearbyAttractions: ["Ancient Ruins", "Local Market", "Heritage Houses"],
        contactInfo: "Local Panchayat: +91 XXXXXXXXXX"
    },
    {
        id: 3,
        name: "Moratakka (Khedighat)",
        type: "ghat",
        icon: "water",
        distance: 6,
        coordinates: { lat: 22.2639, lng: 76.1692 },
        facilities: ["Boat Service", "Rest Area", "Meditation Spots"],
        description: "Important river crossing point with historical significance and spiritual importance.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 4,
        prevLocation: 2,
        nearbyAttractions: ["Ancient Stone Carvings", "Sunset Point", "River View"],
        contactInfo: "Ghat Manager: +91 XXXXXXXXXX"
    },
    {
        id: 4,
        name: "Tonksar (Anna Kshetra)",
        type: "pilgrimage",
        icon: "temple",
        distance: 4,
        coordinates: { lat: 22.2740, lng: 76.1793 },
        facilities: ["Free meals", "Shelter", "Meditation Hall"],
        description: "Place offering free food to pilgrims, with a serene environment for meditation.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 5,
        prevLocation: 3,
        nearbyAttractions: ["Sacred Banyan Tree", "Pilgrims Rest House", "Meditation Center"],
        contactInfo: "Temple Office: +91 XXXXXXXXXX"
    },
    {
        id: 5,
        name: "Pitnagar",
        type: "village",
        icon: "house",
        distance: 2,
        coordinates: { lat: 22.2839, lng: 76.1893 },
        facilities: ["Local Shops", "Food Stalls", "Crafts Market"],
        description: "Small village with local shops offering handmade crafts and traditional food.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 6,
        prevLocation: 4,
        nearbyAttractions: ["Local Market", "Traditional Houses", "Craft Workshops"],
        contactInfo: "Village Council: +91 XXXXXXXXXX"
    },
    {
        id: 6,
        name: "Kankaria",
        type: "village",
        icon: "house",
        distance: 4,
        coordinates: { lat: 22.2939, lng: 76.1994 },
        facilities: ["Restrooms", "Small Cafes", "Information Center"],
        description: "Village with basic facilities for travelers, known for its small cafes and local hospitality.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 7,
        prevLocation: 5,
        nearbyAttractions: ["Local Handicrafts", "Cultural Center", "Nature Walks"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 7,
        name: "Raverkhedi (Bajirao Samadhi)",
        type: "historical",
        icon: "memorial",
        distance: 6,
        coordinates: { lat: 22.3039, lng: 76.2095 },
        facilities: ["Parking", "Guide Services", "Historical Tours"],
        description: "Historical site of Bajirao's memorial, offering guided tours and exhibits on local history.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 8,
        prevLocation: 6,
        nearbyAttractions: ["Museum", "Local History Exhibits", "Historical Ruins"],
        contactInfo: "Tourist Office: +91 XXXXXXXXXX"
    },
    {
        id: 8,
        name: "Bakawa Anna Kshetra",
        type: "pilgrimage",
        icon: "temple",
        distance: 4,
        coordinates: { lat: 22.3139, lng: 76.2196 },
        facilities: ["Free meals", "Shelter", "Yoga Center"],
        description: "Anna Kshetra offering food to pilgrims, with a dedicated yoga center for visitors.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 9,
        prevLocation: 7,
        nearbyAttractions: ["Meditation Center", "Pilgrims Rest House", "Spiritual Library"],
        contactInfo: "Ashram Office: +91 XXXXXXXXXX"
    },
    {
        id: 9,
        name: "Mardana",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.3239, lng: 76.2297 },
        facilities: ["Local Food", "Shops", "Guesthouses"],
        description: "Village with basic necessities, known for its traditional guesthouses and local cuisine.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 10,
        prevLocation: 8,
        nearbyAttractions: ["Local Handicrafts", "Traditional Houses", "Cultural Events"],
        contactInfo: "Village Council: +91 XXXXXXXXXX"
    },
    {
        id: 10,
        name: "Naogawa",
        type: "village",
        icon: "house",
        distance: 2,
        coordinates: { lat: 22.3339, lng: 76.2398 },
        facilities: ["Rest Stop", "Viewpoint", "Snack Stalls"],
        description: "Resting point for travelers with a beautiful viewpoint over the surrounding landscape.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 11,
        prevLocation: 9,
        nearbyAttractions: ["Nature Trails", "Local Market", "Scenic Views"],
        contactInfo: "Local Office: +91 XXXXXXXXXX"
    },
      {
        id: 11,
        name: "Teli Bhatyan (Siyaram Baba)",
        type: "pilgrimage",
        icon: "temple",
        distance: 5,
        coordinates: { lat: 22.3439, lng: 76.2499 },
        facilities: ["Parking", "Shelter", "Restrooms"],
        description: "A spiritual site known for the temple of Siyaram Baba, attracting pilgrims year-round.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 12,
        prevLocation: 10,
        nearbyAttractions: ["Meditation Spots", "Temple Courtyard", "Pilgrims' Rest House"],
        contactInfo: "Temple Office: +91 XXXXXXXXXX"
    },
    {
        id: 12,
        name: "Ramakrishna Hari Seva Ashram (Anna Kshetra)",
        type: "ashram",
        icon: "ashram",
        distance: 2,
        coordinates: { lat: 22.3539, lng: 76.2590 },
        facilities: ["Free Meals", "Meditation Hall", "Accommodations"],
        description: "Ashram known for serving free meals and offering a serene environment for meditation.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 13,
        prevLocation: 11,
        nearbyAttractions: ["Ashram Library", "Yoga Center", "Tranquil Gardens"],
        contactInfo: "Ashram Office: +91 XXXXXXXXXX"
    },
    {
        id: 13,
        name: "Sasavat",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.3639, lng: 76.2691 },
        facilities: ["Local Food", "Small Shops", "Guesthouses"],
        description: "A quaint village known for local food and a small market with traditional shops.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 14,
        prevLocation: 12,
        nearbyAttractions: ["Local Handicrafts", "Heritage Walks", "Village Temples"],
        contactInfo: "Village Office: +91 XXXXXXXXXX"
    },
    {
        id: 14,
        name: "Amalath",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.3739, lng: 76.2792 },
        facilities: ["Rest Area", "Food Stalls", "Information Center"],
        description: "Village with facilities for travelers, known for its local food stalls and scenic beauty.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 15,
        prevLocation: 13,
        nearbyAttractions: ["Scenic Viewpoint", "Local Market", "Nature Trails"],
        contactInfo: "Village Council: +91 XXXXXXXXXX"
    },
    {
        id: 15,
        name: "Lepa",
        type: "village",
        icon: "house",
        distance: 5,
        coordinates: { lat: 22.3839, lng: 76.2893 },
        facilities: ["Restrooms", "Small Cafes", "Parking"],
        description: "A peaceful village offering a rest stop for travelers, with parking and small cafes.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 16,
        prevLocation: 14,
        nearbyAttractions: ["Hill View", "Local Cafe", "Picnic Spot"],
        contactInfo: "Local Office: +91 XXXXXXXXXX"
    },
    {
        id: 16,
        name: "Mankadkheda",
        type: "village",
        icon: "house",
        distance: 6,
        coordinates: { lat: 22.3939, lng: 76.2994 },
        facilities: ["Rest Area", "Local Food", "Shops"],
        description: "Village known for its traditional cuisine and shops selling local products.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 17,
        prevLocation: 15,
        nearbyAttractions: ["Traditional Market", "Nature Walks", "Cultural Events"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 17,
        name: "Kathora",
        type: "village",
        icon: "house",
        distance: 6,
        coordinates: { lat: 22.4039, lng: 76.3095 },
        facilities: ["Local Guide", "Rest Stop", "Basic Amenities"],
        description: "A village with a local guide facility, known for its calm environment and small rest stop.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 18,
        prevLocation: 16,
        nearbyAttractions: ["Traditional Houses", "Viewpoint", "Craft Shops"],
        contactInfo: "Local Council: +91 XXXXXXXXXX"
    },
    {
        id: 18,
        name: "Badgaon",
        type: "village",
        icon: "house",
        distance: 4,
        coordinates: { lat: 22.4139, lng: 76.3196 },
        facilities: ["Shops", "Food Stalls", "Local Market"],
        description: "Village with a bustling local market, offering a variety of local goods and food stalls.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 19,
        prevLocation: 17,
        nearbyAttractions: ["Local Market", "Handicraft Shops", "Cultural Hub"],
        contactInfo: "Market Head: +91 XXXXXXXXXX"
    },
    {
        id: 19,
        name: "Shalivahan",
        type: "village",
        icon: "house",
        distance: 2,
        coordinates: { lat: 22.4239, lng: 76.3297 },
        facilities: ["Local Food", "Basic Amenities", "Small Temple"],
        description: "A small village known for its local food and a small yet popular temple.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 20,
        prevLocation: 18,
        nearbyAttractions: ["Local Festival Site", "Traditional Houses", "Small Temple"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 20,
        name: "Navdatodi Anna Kshetra",
        type: "pilgrimage",
        icon: "temple",
        distance: 1,
        coordinates: { lat: 22.4339, lng: 76.3398 },
        facilities: ["Free Meals", "Shelter", "Parking"],
        description: "Anna Kshetra serving free meals to pilgrims, known for its tranquil setting.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 21,
        prevLocation: 19,
        nearbyAttractions: ["Ashram Grounds", "Meditation Spots", "Pilgrims Rest Area"],
        contactInfo: "Anna Kshetra Office: +91 XXXXXXXXXX"
    },
    {
        id: 21,
        name: "Dhalkheda",
        type: "village",
        icon: "house",
        distance: 4,
        coordinates: { lat: 22.4439, lng: 76.3499 },
        facilities: ["Local Shops", "Food Stalls", "Rest Areas"],
        description: "A small village known for its local shops and a place for travelers to rest.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 22,
        prevLocation: 20,
        nearbyAttractions: ["Scenic Views", "Village Temples", "Cultural Events"],
        contactInfo: "Village Council: +91 XXXXXXXXXX"
    },
    {
        id: 22,
        name: "Balgaon",
        type: "village",
        icon: "house",
        distance: 5,
        coordinates: { lat: 22.4539, lng: 76.3600 },
        facilities: ["Accommodations", "Food Options", "Parking"],
        description: "A village providing accommodations and food options for visitors.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 23,
        prevLocation: 21,
        nearbyAttractions: ["Local Markets", "Nature Trails", "Cultural Sites"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 23,
        name: "Khalghat",
        type: "ghat",
        icon: "water",
        distance: 5,
        coordinates: { lat: 22.4639, lng: 76.3701 },
        facilities: ["Boat Service", "Rest Areas", "Fishing Spots"],
        description: "A river ghat known for boating and fishing activities, popular among locals.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 24,
        prevLocation: 22,
        nearbyAttractions: ["Sunset View", "Fishing Areas", "Relaxation Spots"],
        contactInfo: "Ghat Manager: +91 XXXXXXXXXX"
    },
    {
        id: 24,
        name: "Khaltanka Anna Kshetra",
        type: "pilgrimage",
        icon: "temple",
        distance: 1,
        coordinates: { lat: 22.4739, lng: 76.3802 },
        facilities: ["Free Meals", "Parking", "Shelter"],
        description: "A pilgrimage site providing free meals to visitors, set in a peaceful location.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 25,
        prevLocation: 23,
        nearbyAttractions: ["Pilgrims' Rest Area", "Ashram Grounds", "Meditation Spots"],
        contactInfo: "Anna Kshetra Office: +91 XXXXXXXXXX"
    },
    {
        id: 25,
        name: "Chichli Anna Kshetra",
        type: "pilgrimage",
        icon: "temple",
        distance: 5,
        coordinates: { lat: 22.4839, lng: 76.3903 },
        facilities: ["Free Meals", "Resting Area", "Local Shops"],
        description: "A popular Anna Kshetra providing meals for pilgrims and visitors.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 26,
        prevLocation: 24,
        nearbyAttractions: ["Dining Area", "Prayer Hall", "Community Events"],
        contactInfo: "Chichli Office: +91 XXXXXXXXXX"
    },
    {
        id: 26,
        name: "Bhoinda",
        type: "village",
        icon: "house",
        distance: 5,
        coordinates: { lat: 22.4939, lng: 76.4004 },
        facilities: ["Local Food", "Rest Areas", "Basic Amenities"],
        description: "A village with a welcoming atmosphere, offering local food and basic amenities.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 27,
        prevLocation: 25,
        nearbyAttractions: ["Cultural Heritage", "Village Temples", "Local Crafts"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 27,
        name: "Abhali",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.5039, lng: 76.4105 },
        facilities: ["Local Shops", "Food Stalls", "Rest Areas"],
        description: "A village famous for its local shops and vibrant food stalls.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 28,
        prevLocation: 26,
        nearbyAttractions: ["Scenic Views", "Cultural Events", "Local Festivals"],
        contactInfo: "Village Office: +91 XXXXXXXXXX"
    },
    {
        id: 28,
        name: "Kerwa",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.5139, lng: 76.4206 },
        facilities: ["Food Options", "Rest Areas", "Parking"],
        description: "Known for its food options and a resting area for travelers.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 29,
        prevLocation: 27,
        nearbyAttractions: ["Nature Trails", "Cultural Sites", "Local Cuisine"],
        contactInfo: "Village Council: +91 XXXXXXXXXX"
    },
    {
        id: 29,
        name: "Davana",
        type: "village",
        icon: "house",
        distance: 3,
        coordinates: { lat: 22.5239, lng: 76.4307 },
        facilities: ["Rest Area", "Basic Amenities", "Local Guides"],
        description: "A small village offering basic amenities and local guides for visitors.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 30,
        prevLocation: 28,
        nearbyAttractions: ["Local Market", "Cultural Heritage", "Nature Views"],
        contactInfo: "Village Head: +91 XXXXXXXXXX"
    },
    {
        id: 30,
        name: "Lakhangaon Anna Kshetra",
        type: "pilgrimage",
        icon: "temple",
        distance: 5,
        coordinates: { lat: 22.5339, lng: 76.4408 },
        facilities: ["Free Meals", "Shelter", "Parking"],
        description: "A pilgrimage site known for providing free meals and a serene environment.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 31,
        prevLocation: 29,
        nearbyAttractions: ["Prayer Area", "Meditation Spots", "Community Gatherings"],
        contactInfo: "Lakhangaon Office: +91 XXXXXXXXXX"
    },
    {
        id: 31,
        name: "Chakeri",
        type: "village",
        icon: "house",
        distance: 15,
        coordinates: { lat: 22.5539, lng: 76.4509 },
        facilities: ["Local Shops", "Rest Areas", "Food Options"],
        description: "A larger village with a variety of shops and food options for travelers.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 32,
        prevLocation: 30,
        nearbyAttractions: ["Cultural Events", "Local Handicrafts", "Traditional Cuisine"],
        contactInfo: "Village Office: +91 XXXXXXXXXX"
    },
    {
        id: 32,
        name: "Anjad",
        type: "town",
        icon: "town",
        distance: 4,
        coordinates: { lat: 22.5639, lng: 76.4610 },
        facilities: ["Shops", "Restaurants", "Parking"],
        description: "A town known for its local shops and a range of restaurants.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 33,
        prevLocation: 31,
        nearbyAttractions: ["Market Square", "Cultural Festivals", "Historical Sites"],
        contactInfo: "Town Office: +91 XXXXXXXXXX"
    },
    {
        id: 33,
        name: "Borlay",
        type: "village",
        icon: "house",
        distance: 6,
        coordinates: { lat: 22.5739, lng: 76.4711 },
        facilities: ["Local Amenities", "Food Stalls", "Parking"],
        description: "A village providing local amenities and food stalls for travelers.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 34,
        prevLocation: 32,
        nearbyAttractions: ["Village Temples", "Local Handicrafts", "Nature Trails"],
        contactInfo: "Village Office: +91 XXXXXXXXXX"
    },
    {
        id: 34,
        name: "Badwani District",
        type: "district",
        icon: "district",
        distance: 10,
        coordinates: { lat: 22.5839, lng: 76.4812 },
        facilities: ["Administrative Offices", "Local Shops", "Restaurants"],
        description: "The administrative district known for its local governance and amenities.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: 35,
        prevLocation: 33,
        nearbyAttractions: ["Historical Sites", "Natural Parks", "Cultural Centers"],
        contactInfo: "District Office: +91 XXXXXXXXXX"
    },
    {
        id: 35,
        name: "Bavangaja (Jain Tirth)",
        type: "pilgrimage",
        icon: "temple",
        distance: 9,
        coordinates: { lat: 22.5939, lng: 76.4913 },
        facilities: ["Free Meals", "Shelter", "Parking"],
        description: "A significant Jain pilgrimage site, offering free meals and accommodations.",
        imageUrl: "/api/placeholder/800/400",
        nextLocation: null,
        prevLocation: 34,
        nearbyAttractions: ["Jain Temples", "Cultural Heritage", "Meditation Spots"],
        contactInfo: "Pilgrimage Office: +91 XXXXXXXXXX"
    },
    // Continuing to add more entries in the same format, based on the provided data
    // ...
];

        function createLocationCard(location, showNavigation = false) {
    const prevLocation = location.prevLocation ? locations.find(l => l.id === location.prevLocation) : null;
    const nextLocation = location.nextLocation ? locations.find(l => l.id === location.nextLocation) : null;

    return `
        <article class="location-card" id="location-${location.id}">
            <div class="location-header">
                <div class="location-title-section">
                    <div class="location-icon" style="background: var(--primary)">
                        <i class="fas fa-${location.icon}"></i>
                    </div>
                    <div class="location-info">
                        <h3>${location.name}</h3>
                        <span class="location-type">${location.type.charAt(0).toUpperCase() + location.type.slice(1)}</span>
                    </div>
                </div>
                <div class="detail-item">
                    <i class="fas fa-map-marker-alt"></i>
                    ${location.distance}km
                </div>
            </div>

            <img src="${location.imageUrl}" alt="${location.name}" class="location-image">

            <div class="location-details">
                <div class="detail-item">
                    <i class="fas fa-map-pin"></i>
                    ${location.coordinates.lat}, ${location.coordinates.lng}
                </div>
                <div class="detail-item">
                    <i class="fas fa-phone"></i>
                    ${location.contactInfo}
                </div>
            </div>

            <p>${location.description}</p>

            <div class="facilities-list">
                ${location.facilities.map(facility => `
                    <span class="facility-tag">
                        <i class="fas fa-check"></i>
                        ${facility}
                    </span>
                `).join('')}
            </div>

            <h4 style="margin-top: 15px;">Nearby Attractions:</h4>
            <ul class="attractions-list">
                ${location.nearbyAttractions.map(attraction => `
                    <li>${attraction}</li>
                `).join('')}
            </ul>

            ${showNavigation ? `
                <div class="navigation-links">
                    ${prevLocation ? `
                        <button class="nav-link" onclick="scrollToLocation(${prevLocation.id})">
                            <i class="fas fa-arrow-left"></i>
                            Previous: ${prevLocation.name}
                        </button>
                    ` : '<div></div>'}
                    
                    ${nextLocation ? `
                        <button class="nav-link" onclick="scrollToLocation(${nextLocation.id})">
                            Next: ${nextLocation.name}
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    ` : '<div></div>'}
                </div>
            ` : ''}
        </article>
    `;
}

// Initialize the route visualization
function initializeRouteVisualization() {
    const routeMap = document.getElementById('routeMap');
    routeMap.innerHTML = locations.map(location => `
        <div class="route-point">
            <div class="point-icon">
                <i class="fas fa-${location.icon}"></i>
            </div>
            <span class="point-label">${location.name}</span>
        </div>
    `).join('');
}

// Search and filter functionality
function initializeSearchAndFilter() {
    const searchInput = document.getElementById('searchInput');
    const filterButtons = document.querySelectorAll('.filter-btn');
    const locationsList = document.getElementById('locationsList');

    function updateLocations(searchTerm = '', filterType = 'all') {
        const filteredLocations = locations.filter(location => {
            const matchesSearch = location.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                location.type.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                location.facilities.some(f => f.toLowerCase().includes(searchTerm.toLowerCase()));
            
            const matchesFilter = filterType === 'all' || location.type === filterType;
            
            return matchesSearch && matchesFilter;
        });

        locationsList.innerHTML = filteredLocations.length ? 
            filteredLocations.map(location => createLocationCard(location, true)).join('') :
            '<div class="no-results">No locations found matching your criteria</div>';
    }

    searchInput.addEventListener('input', (e) => {
        const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
        updateLocations(e.target.value, activeFilter);
    });

    filterButtons.forEach(button => {
        button.addEventListener('click', () => {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            updateLocations(searchInput.value, button.dataset.filter);
        });
    });

    // Initial load
    updateLocations();
}

// Theme toggle functionality
function initializeThemeToggle() {
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    const icon = themeToggle.querySelector('i');

    themeToggle.addEventListener('click', () => {
        const isDark = body.dataset.theme === 'dark';
        body.dataset.theme = isDark ? 'light' : 'dark';
        icon.className = isDark ? 'fas fa-moon' : 'fas fa-sun';
    });
}

// Helper function to scroll to a specific location
function scrollToLocation(locationId) {
    const element = document.getElementById(`location-${locationId}`);
    element.scrollIntoView({ behavior: 'smooth', block: 'center' });
}


// Location navigation with smooth scroll and focus management
        function navigateToLocation(locationId) {
            const element = document.getElementById(`location-${locationId}`);
            element.scrollIntoView({ behavior: 'smooth' });
            element.focus();
        }

        // Expand/collapse functionality with accessibility
        function toggleExpand(locationId) {
            const expandedContent = document.getElementById(`expanded-${locationId}`);
            const button = expandedContent.previousElementSibling;
            const isExpanded = expandedContent.classList.contains('active');
            
            expandedContent.classList.toggle('active');
            button.setAttribute('aria-expanded', !isExpanded);
            button.innerHTML = !isExpanded 
                ? '<i class="fas fa-chevron-up"></i><span>Show Less</span>'
                : '<i class="fas fa-chevron-down"></i><span>Show More</span>';
        }

        // Help button functionality
        document.getElementById('helpButton').addEventListener('click', () => {
            alert(`Welcome to the Narmada River Route Guide!

Navigation Tips:
- Use filters above to explore different types of locations
- Search box helps find specific places or facilities
- Click "Show More" to see additional details about each location
- Use the theme toggle for light/dark mode
- Previous/Next buttons help navigate between connected locations

For the best experience, enable location services to find nearby points of interest.`);
        });

        // Location button functionality with error handling
        document.getElementById('locationButton').addEventListener('click', () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        const userLat = position.coords.latitude;
                        const userLng = position.coords.longitude;
                        
                        // Find nearest location
                        const nearest = locations.reduce((nearest, location) => {
                            const distance = calculateDistance(
                                userLat, userLng,
                                location.coordinates.lat,
                                location.coordinates.lng
                            );
                            return distance < nearest.distance ? { location, distance } : nearest;
                        }, { location: null, distance: Infinity });

                        if (nearest.location) {
                            alert(`Nearest location: ${nearest.location.name}\nApprox. distance: ${nearest.distance.toFixed(1)} km`);
                            navigateToLocation(nearest.location.id);
                        }
                    },
                    error => {
                        let message = 'Unable to retrieve your location. ';
                        switch(error.code) {
                            case error.PERMISSION_DENIED:
                                message += 'Please enable location services to use this feature.';
                                break;
                            case error.POSITION_UNAVAILABLE:
                                message += 'Location information is unavailable.';
                                break;
                            case error.TIMEOUT:
                                message += 'The request timed out.';
                                break;
                            default:
                                message += 'An unknown error occurred.';
                        }
                        alert(message);
                    }
                );
            } else {
                alert("Location services are not available in your browser.");
            }
        });

        // Helper function to calculate distance between coordinates
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Earth's radius in km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                     Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                     Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }



// Initialize everything when the DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    initializeRouteVisualization();
    initializeSearchAndFilter();
    initializeThemeToggle();
});

</script>
</body>
</html>